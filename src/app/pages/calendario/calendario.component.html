<app-menu></app-menu>

<div class="container-fluid pt-3">
  <div class="row">
    <!-- Calendário -->
    <div class="col-12 col-lg-6">
      <mat-card class="calendario">
        <mat-calendar [(selected)]="dataSelecionada" (selectedChange)="selecionarDia($event)"></mat-calendar>
      </mat-card>
    </div>

    <!-- Detalhes das Consultas -->
    <div class="col-12 col-lg-6">
      <mat-card class="detalhes">
        <h2>Consultas para {{ dataSelecionada | date: 'dd/MM/yyyy' }}</h2>

        <h3>Agendar Nova Consulta</h3>
        <div class="form-group">
          <label>Horário:</label>
          <input matInput type="time" [(ngModel)]="novoHorario" class="form-control">
        </div>

        <div class="form-group">
          <label>Paciente:</label>
          <input matInput type="text" [(ngModel)]="novoPaciente" (keypress)="bloquearNumeros($event)" class="form-control">
        </div>

        <button class="agendar-btn" (click)="agendarConsulta()">Agendar</button>

        <div class="consultas-lista">
          <ul>
            <li *ngFor="let consulta of consultasDoDia; let i = index">
              <span>{{ consulta.horario }} - {{ consulta.paciente }}</span>
              <div class="botoes">
                <button mat-icon-button color="primary" (click)="editarConsulta(i)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button mat-icon-button color="warn" (click)="excluirConsulta(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </li>
          </ul>
        </div>
        <div *ngIf="consultasDoDia.length === 0">
          <p>Nenhuma consulta marcada para este dia.</p>
        </div>
      </mat-card>
    </div>
  </div>
</div>